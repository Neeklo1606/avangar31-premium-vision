# План: Секция «Горящие предложения» — приведение к эталону

## Эталонный макет
- **Скриншот:** приложен — карусель карточек с скидками, ЖК Снегири, блок «Скидка 20%»
- **Секция:** HotOffersSection (hot-offers-section)

## Цель
Привести блок «Горящие предложения» к соответствию эталонному макету и реализовать логику переходов.

**Затрагиваемые файлы:**
- `src/components/sections/HotOffersSection.jsx` — секция, слайдер, данные
- `src/components/ui/PropertyCard.jsx` — карточка (опционально: discount, type/href)

---

## TASK 5.1 — Общая сетка карточек

**Текущее состояние:**
- Swiper: `slidesPerView` 1/2/3/4 по breakpoints, `spaceBetween: 16`
- Карточки: PropertyCard, фиксированная ширина слайда (280px в HTML)

**Действия:**
- [ ] Одинаковая высота и ширина карточек (align-items: stretch, min-height)
- [ ] Убрать визуальный «перекос» по вертикали
- [ ] Выравнивание строго по сетке (одна линия по верху и низу)
- [ ] Привести скругление углов карточек к эталону (rounded-xl)

**Результат:** Карточки выглядят как единый ряд без визуального шума.

---

## TASK 5.2 — Изображение в карточке

**Текущее состояние:**
- PropertyCard: `aspect-[4/3]`, `mx-2 mt-2 rounded-lg`, `object-cover`

**Действия:**
- [ ] Привести aspect-ratio к эталону (4:3)
- [ ] Убрать обрезание важных частей изображения
- [ ] Изображение не должно «прыгать» при hover (уже scale-105 — проверить)
- [ ] Скругление изображения совпадает со скруглением карточки

**Результат:** Изображения одинаковы по масштабу, не ломают сетку.

---

## TASK 5.3 — Плашки (Распродажа / Ипотека 6%)

**Текущее состояние:**
- PropertyCard: `px-2 py-0.5 text-[11px]`, `top-1.5 left-1.5`

**Действия:**
- [ ] Привести размер плашек к эталону
- [ ] font-size и font-weight текста в плашках
- [ ] Одинаковый отступ между плашками (gap)
- [ ] Плашки не наезжают друг на друга и на иконку избранного

**Результат:** Плашки читаемые, аккуратные, визуально легкие.

---

## TASK 5.4 — Иконка избранного (сердце)

**Текущее состояние:**
- PropertyCard: `w-8 h-8`, `top-1.5 right-1.5`, `bg-white/70`

**Действия:**
- [ ] Привести размер иконки к эталону
- [ ] Увеличить отступ от краёв карточки
- [ ] Убрать «залипание» к углу
- [ ] Плавная hover-анимация (opacity или scale 1.05)

**Результат:** Иконка аккуратная, не мешает контенту.

---

## TASK 5.5 — Заголовок объекта

**Текущее состояние:**
- Данные: `title: 'Дом 125 м² — 3 комнаты'`
- PropertyCard: `text-sm font-medium leading-snug line-clamp-2`

**Действия:**
- [x] Исправить текст: «Дом 125 м² — 3 комнаты» → «Дом 125 м.кв. 3 комнаты»
- [ ] Привести font-size, font-weight, line-height по эталону
- [ ] Заголовок не должен залипать к изображению (отступ pt-2.5)

**Результат:** Заголовок читается легко, визуально отделен от изображения.

---

## TASK 5.6 — Цена

**Текущее состояние:**
- PropertyCard: `text-base lg:text-lg font-bold`

**Действия:**
- [ ] Привести размер цены к эталону
- [ ] Усилить визуальный акцент (font-weight)
- [ ] Одинаковый отступ от заголовка и адреса

**Результат:** Цена — главный визуальный акцент карточки.

---

## TASK 5.7 — Адрес

**Текущее состояние:**
- PropertyCard: `text-gray-medium text-xs leading-relaxed opacity-90`

**Действия:**
- [ ] Уменьшить визуальный вес адреса
- [ ] Привести цвет к вторичному (серый как в эталоне)
- [ ] Отступ от цены по эталону

**Результат:** Адрес не конкурирует с ценой.

---

## TASK 5.8 — Блок скидки

**Текущее состояние:**
- PropertyCard **не содержит** блок скидки

**Действия:**
- [ ] Добавить опциональный проп `discount` в PropertyCard
- [ ] Рендерить блок скидки: синий фон, белый текст, скругление
- [ ] Пример: «Скидка 20% до 1 февраля 2026»
- [ ] Цвет, скругление, высота по эталону
- [ ] Плашка не должна увеличивать высоту карточки (flex layout)
- [ ] Одинаковый отступ сверху и снизу

**Результат:** Скидка выглядит встроенной, а не приклеенной.

---

## TASK 5.9 — Hover-анимация карточки

**Текущее состояние:**
- PropertyCard: `hover:-translate-y-1`, `hover:shadow-lg`, `transition-all duration-200 ease-out`

**Действия:**
- [ ] translateY(-2px) или оставить -4px (hover:-translate-y-1 = 4px)
- [ ] box-shadow как в эталоне
- [ ] Анимация не должна дергать соседние карточки (isolate или z-index)

**Результат:** Карточка реагирует плавно и «дорого».

---

## TASK 5.10 — Логика переходов

**Текущее состояние:**
- `getHref(property)` вычисляет href по `type`

**Действия:**
- [x] Добавить тип объекта: `type: 'jk' | 'property'`
- [x] Если type === 'jk' → открывать `/new-building/${id}`
- [x] Если type === 'property' → открывать `/property/${id}`
- [x] Передавать type в PropertyCard или вычислять href в HotOffersSection

**Результат:** Переходы соответствуют типу объекта.

---

## TASK 5M.1 — Горизонтальный скролл (mobile)

**Текущее состояние:**
- Swiper: `centeredSlides: true`, `slidesPerView: 0.85` на mobile

**Действия:**
- [x] Карточки в один ряд
- [x] Swipe без рывков (smooth touch)
- [x] `centeredSlides: true` на mobile — активная карточка по центру

**Результат:** Скролл ощущается как нативный.

---

## TASK 5M.2 — Размер карточки (mobile)

**Действия:**
- [x] Ширина карточки ~80–85% экрана (`slidesPerView: 0.85`)
- [ ] Одинаковая высота у всех карточек

**Результат:** Карточки не «прыгают» при свайпе.

---

## TASK 5M.3 — Изображение (mobile)

**Действия:**
- [ ] Изображение не обрезает ключевые элементы
- [ ] Скругление как на десктопе
- [ ] Нет дерганий при смене слайда

**Результат:** Картинка стабильная и читаемая.

---

## TASK 5M.4 — Плашки и иконки (mobile)

**Действия:**
- [ ] Плашки не перекрывают изображение
- [ ] Иконка избранного кликабельна, touch target ≥ 44px
- [ ] Размеры адаптированы под тач

**Результат:** Элементы удобны для пальца.

---

## TASK 5M.5 — Клик по карточке (mobile)

**Действия:**
- [ ] Логика переходов как на десктопе:
  - ЖК → Страница новостройки ЖК
  - Не ЖК → Карточка объекта

**Результат:** Одинаковая логика на всех устройствах.

---

## Порядок реализации

### Фаза 1 — Карточка и данные
1. **5.5** — Исправить текст заголовка (м.кв.)
2. **5.8** — Добавить блок скидки в PropertyCard
3. **5.10** — Добавить type, логика href (jk vs property)

### Фаза 2 — Визуал карточки
4. **5.1** — Сетка, выравнивание
5. **5.2** — Изображение
6. **5.3** — Плашки
7. **5.4** — Иконка избранного
8. **5.6, 5.7** — Цена, адрес
9. **5.9** — Hover-анимация

### Фаза 3 — Слайдер и mobile
10. **5M.1** — centeredSlides, плавный swipe
11. **5M.2** — Размер карточки на mobile
12. **5M.3–5M.5** — Изображение, touch targets, логика кликов

---

## Важно

- **PropertyCard** используется в OffersSection, HotOffersSection, CatalogPage, FavoritesPage, PropertyDetailPage. Добавление `discount` как опционального пропа не сломает другие места.
- Для TASK 5.10: данные в HotOffersSection должны включать поле `type: 'jk' | 'property'`. Если в макете карточки — ЖК (ЖК Снегири), то type = 'jk'.
- TASK 5.5: изменение текста «м²» → «м.кв.» — только для блока «Горящие предложения». В других секциях оставить как есть, если не указано иначе.
