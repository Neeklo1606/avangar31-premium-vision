# –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç –ø–æ —Å–µ—Å—Å–∏–∏: TrendAgent –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–î–∞—Ç–∞:** 09.02.2026  
**–ü—Ä–æ–µ–∫—Ç:** figma-trendagent (Live Grid)

---

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. ‚úÖ –°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö TrendAgent

**–§–∞–π–ª:** `TRENDAGENT_DATA_REFERENCE.md`

–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ API (7 –¥–æ–º–µ–Ω–æ–≤)
- 8 —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ —Å –ø–æ–ª–Ω—ã–º —Å–ø–∏—Å–∫–æ–º –ø–æ–ª–µ–π
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã Value Objects (Price, Area, Location, Contact)
- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä—ã
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–ª—è –ñ–ö (22 endpoint'–∞)
- –ú–∞—Ä—à—Ä—É—Ç—ã API
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–û–±—ä—ë–º:** 440 —Å—Ç—Ä–æ–∫, –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ TrendAgent API.

---

### 2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –æ–±—Ä–∞–∑—Ü—É –ø—Ä–æ–µ–∫—Ç–∞ AL

**–ü—Ä–æ–±–ª–µ–º–∞:** –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞, —Ç–∞–∫ –∫–∞–∫:
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª `app_id` –≤ URL –ª–æ–≥–∏–Ω–∞
- –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä `client=web`
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ Origin –∏ Referer
- –¢–æ–∫–µ–Ω –Ω–µ –∏–∑–≤–ª–µ–∫–∞–ª—Å—è –∏–∑ cookies –∏ Location

**–†–µ—à–µ–Ω–∏–µ:**

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `config/trendagent.php`:
```php
'sso_ui' => 'sso.trend.tech',  // –î–æ–±–∞–≤–ª–µ–Ω –¥–æ–º–µ–Ω SSO UI
'app_id' => env('TRENDAGENT_APP_ID', '66d84f584c0168b8ccd281c3'),
'user_phone' => env('TRENDAGENT_USER_PHONE', env('TRENDAGENT_PHONE', '')),
'user_password' => env('TRENDAGENT_USER_PASSWORD', env('TRENDAGENT_PASSWORD', '')),
```

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `AuthTokenManager`:
- ‚úÖ URL –ª–æ–≥–∏–Ω–∞: `POST sso-api.trend.tech/v1/login?app_id={app_id}&lang=ru`
- ‚úÖ –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: `phone`, `password`, **`client=web`** (form-urlencoded)
- ‚úÖ –ó–∞–≥–æ–ª–æ–≤–∫–∏: **Origin: https://sso.trend.tech**, **Referer: https://sso.trend.tech/login?app_id=...**
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç `+7XXXXXXXXXX`
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∏–∑:
  - JSON (auth_token, token, access_token, data.auth_token, data.token)
  - Set-Cookie (auth_token)
  - Location –ø—Ä–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–µ 302/301

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –æ–±–Ω–æ–≤–ª—ë–Ω `backend/TRENDAGENT_SSO_README.md`

---

### 3. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö (—Å –ø–æ–ª–Ω–æ–π –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π)

**–ö–æ–º–∞–Ω–¥–∞:** `php artisan trendagent:parse`

**–§–∞–π–ª:** `backend/app/Console/Commands/TrendAgent/ParseCommand.php`

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üìç –ü–∞—Ä—Å–∏–Ω–≥ –¥–ª—è –ª—é–±—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤: `--region=spb --region=msk --region=krd` –∏ —Ç.–¥.
- üì¶ –í—ã–±–æ—Ä —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤: `--type=blocks --type=apartments` –∏ —Ç.–¥.
- üî¢ –õ–∏–º–∏—Ç –æ–±—ä–µ–∫—Ç–æ–≤: `--limit=1000` (0 = –≤—Å–µ)
- üìÑ –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã: `--per-page=100`
- üîç **`--details`** ‚Äî –ø–æ–ª—É—á–∏—Ç—å –ü–û–õ–ù–´–ï –¥–µ—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
- üì∑ **`--media`** ‚Äî –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ñ–æ—Ç–æ, –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏, –≤–∏–¥–µ–æ, –¥–æ–∫—É–º–µ–Ω—Ç—ã

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã:**
- blocks (–ö–æ–º–ø–ª–µ–∫—Å—ã/–ñ–ö)
- apartments (–ö–≤–∞—Ä—Ç–∏—Ä—ã)
- parking (–ü–∞—Ä–∫–∏–Ω–≥–∏)
- houses (–î–æ–º–∞)
- plots (–£—á–∞—Å—Ç–∫–∏)
- commerce (–ö–æ–º–º–µ—Ä—Ü–∏—è)
- house_projects (–ü—Ä–æ–µ–∫—Ç—ã –¥–æ–º–æ–≤)
- villages (–ü–æ—Å–µ–ª–∫–∏)

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ä–µ–≥–∏–æ–Ω—ã:**
- spb, msk, krd, rnd, crimea, kzn, ufa, ekb, nsk

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON: `storage/app/trendagent/parser/{region}/{region}_{type}.json`
- ‚úÖ –ó–∞–¥–µ—Ä–∂–∫–∞ 0.1 —Å–µ–∫ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (–Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å API)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π

**–†–µ–∂–∏–º—ã –ø–∞—Ä—Å–∏–Ω–≥–∞:**

1. **–ë–∞–∑–æ–≤—ã–π** (–±–µ–∑ —Ñ–ª–∞–≥–æ–≤) ‚Äî –∫–∞—Ç–∞–ª–æ–≥ —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
2. **–° –¥–µ—Ç–∞–ª—è–º–∏** (`--details`) ‚Äî –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
   - –í—Å–µ –ø–æ–ª—è Entity
   - –î–ª—è –ñ–ö: –∞–≥—Ä–µ–≥–∞—Ü–∏—è **22 endpoint'–æ–≤** (advantages, finishings, nearbyPlaces, geoBuildings, bank, mortgage, buildings, sections –∏ —Ç.–¥.)
   - –ú–µ–¥–∏–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è
3. **–° –º–µ–¥–∏–∞** (`--media`) ‚Äî —Ñ–æ—Ç–æ, –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏, –≤–∏–¥–µ–æ, –¥–æ–∫—É–º–µ–Ω—Ç—ã, –ø—Ä–æ–≥—Ä–µ—Å—Å —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

+----------------------------+-------------+
| –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞                | –í—Å–µ–≥–æ –≤ API |
+----------------------------+-------------+
| –ö–æ–º–ø–ª–µ–∫—Å—ã (–ñ–ö)             | 344         |
| –ö–≤–∞—Ä—Ç–∏—Ä—ã                   | 55 507      |
| –ü–∞—Ä–∫–∏–Ω–≥–∏ (–º–∞—à–∏–Ω–æ–º–µ—Å—Ç–∞)     | 40          |
| –î–æ–º–∞                       | 344         |
| –£—á–∞—Å—Ç–∫–∏                    | 344         |
| –ö–æ–º–º–µ—Ä—Ü–∏—è (–ø–æ–º–µ—â–µ–Ω–∏—è)      | 168         |
| –ü—Ä–æ–µ–∫—Ç—ã –¥–æ–º–æ–≤              | 160         |
| –ü–æ—Å–µ–ª–∫–∏                    | 89          |
+----------------------------+-------------+
```

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** 
- `backend/PARSER_COMMAND.md` ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–æ–º–∞–Ω–¥–µ
- `FULL_PARSING_GUIDE.md` ‚Äî –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–∞—Ä—Å–∏–Ω–≥—É –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ/–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
1. `TRENDAGENT_DATA_REFERENCE.md` ‚Äî –ø–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö (440 —Å—Ç—Ä–æ–∫)
2. `backend/app/Console/Commands/TrendAgent/ParseCommand.php` ‚Äî –∫–æ–º–∞–Ω–¥–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π (400+ —Å—Ç—Ä–æ–∫)
3. `backend/PARSER_COMMAND.md` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–æ–º–∞–Ω–¥–µ
4. `FULL_PARSING_GUIDE.md` ‚Äî —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–æ–ª–Ω–æ–º—É –ø–∞—Ä—Å–∏–Ω–≥—É
5. `SESSION_SUMMARY.md` ‚Äî —ç—Ç–æ—Ç –æ—Ç—á—ë—Ç

### –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. `backend/config/trendagent.php` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã sso_ui, app_id, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ TRENDAGENT_PHONE/PASSWORD
2. `backend/app/Services/TrendAgent/Auth/AuthTokenManager.php` ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –æ–±—Ä–∞–∑—Ü—É AL
3. `backend/TRENDAGENT_SSO_README.md` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ SSO
4. `README.md` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª –æ backend –∏ –∫–æ–º–∞–Ω–¥–µ –ø–∞—Ä—Å–∏–Ω–≥–∞

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ –æ–±—Ä–∞–∑—Ü—É —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ AL
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–ª–µ—Ñ–æ–Ω+–ø–∞—Ä–æ–ª—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- ‚úÖ –ó–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç: client_id+client_secret
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∏–∑ JSON, cookies –∏ Location
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤—Å–µ—Ö –ø–æ–ª—É—á–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í—Å–µ –ø–æ–ª—è –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–∏–ø—É –æ–±—ä–µ–∫—Ç–æ–≤
- ‚úÖ Value Objects, —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏, —Ñ–∏–ª—å—Ç—Ä—ã
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ì–∏–±–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –∏ —Ç–∏–ø–∞–º
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º JSON

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã:

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ `.env`:**
   ```env
   TRENDAGENT_PHONE=+79045393434
   TRENDAGENT_PASSWORD=your_password
   ```

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:**
   ```bash
   cd backend
   php artisan trendagent:test parking
   ```

3. **–°–ø–∞—Ä—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:**
   
   **–ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (10 –æ–±—ä–µ–∫—Ç–æ–≤ —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏):**
   ```bash
   php artisan trendagent:parse --limit=10 --details --media
   ```
   
   **–ü–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Å –í–°–ï–ú–ò –¥–∞–Ω–Ω—ã–º–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
   ```bash
   # –í–°–ï: –¥–µ—Ç–∞–ª–∏, –º–µ–¥–∏–∞, —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –¥–ª—è –°–ü–±
   php artisan trendagent:parse --details --media
   
   # –î–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤
   php artisan trendagent:parse --region=spb --region=msk --details --media
   
   # –¢–æ–ª—å–∫–æ –ñ–ö —Å –ø–æ–ª–Ω–æ–π –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π (22 endpoint'–∞)
   php artisan trendagent:parse --type=blocks --details
   ```
   
   **–ë—ã—Å—Ç—Ä—ã–π –ø–∞—Ä—Å–∏–Ω–≥ (–±–µ–∑ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏):**
   ```bash
   # –¢–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
   php artisan trendagent:parse
   
   # –ü–æ 100 –æ–±—ä–µ–∫—Ç–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
   php artisan trendagent:parse --limit=100
   ```

4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ:**
   - –§–∞–π–ª—ã –≤ `storage/app/trendagent/parser/{region}/`
   - –° `--details`: –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å entity, media, related, meta
   - –ë–µ–∑ `--details`: –±–∞–∑–æ–≤—ã–µ –ø–æ–ª—è –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
   - –ú–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ë–î –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é

---

## üîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: AL vs figma-trendagent

| –ü–∞—Ä–∞–º–µ—Ç—Ä | AL (—ç—Ç–∞–ª–æ–Ω) | figma-trendagent (–¥–æ) | figma-trendagent (–ø–æ—Å–ª–µ) |
|----------|-------------|------------------------|---------------------------|
| URL –ª–æ–≥–∏–Ω–∞ | /v1/login?app_id=X&lang=ru | /v1/login | ‚úÖ /v1/login?app_id=X&lang=ru |
| –¢–µ–ª–æ (phone) | phone, password, client=web | phone, password | ‚úÖ phone, password, client=web |
| –ó–∞–≥–æ–ª–æ–≤–∫–∏ | Origin, Referer | Accept | ‚úÖ Origin, Referer, User-Agent |
| –¢–æ–∫–µ–Ω –∏–∑ cookies | ‚úÖ | ‚ùå | ‚úÖ |
| –¢–æ–∫–µ–Ω –∏–∑ Location | ‚úÖ | ‚ùå | ‚úÖ |
| .env | TRENDAGENT_PHONE | TRENDAGENT_USER_PHONE | ‚úÖ –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ |

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–î–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–æ/–æ–±–Ω–æ–≤–ª–µ–Ω–æ:** 8 —Ñ–∞–π–ª–æ–≤
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~600+ —Å—Ç—Ä–æ–∫ (–∫–æ–º–∞–Ω–¥–∞ + –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- **–°—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** ~900 —Å—Ç—Ä–æ–∫
- **–¢–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤:** 8 (–ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ)
- **–†–µ–≥–∏–æ–Ω–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–æ:** 9 (–≤—Å—è –†–æ—Å—Å–∏—è)
- **–ü–æ–ª–µ–π –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ:** ~150+ –ø–æ–ª–µ–π –ø–æ –≤—Å–µ–º Entity

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –æ–±—Ä–∞–∑—Ü—É AL
- [x] –°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö TrendAgent
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤
- [x] –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –≤—Å–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [x] –û–±–Ω–æ–≤–ª—ë–Ω README
- [x] –î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ --details –¥–ª—è –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [x] –î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ --media –¥–ª—è —Ñ–æ—Ç–æ/–ø–ª–∞–Ω–∏—Ä–æ–≤–æ–∫
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å DetailService (–∞–≥—Ä–µ–≥–∞—Ü–∏—è 22 endpoint'–æ–≤ –¥–ª—è –ñ–ö)
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MediaService (–≤—Å–µ —Ç–∏–ø—ã –º–µ–¥–∏–∞)
- [x] –°–æ–∑–¥–∞–Ω–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ FULL_PARSING_GUIDE.md

---

## üéâ –ß—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø–æ–ª–Ω–æ–º—É –ø–∞—Ä—Å–∏–Ω–≥—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ TrendAgent API.**

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

‚úÖ **–ë–∞–∑–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥** ‚Äî –±—ã—Å—Ç—Ä–æ –ø–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥ –æ–±—ä–µ–∫—Ç–æ–≤  
‚úÖ **–î–µ—Ç–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥** ‚Äî –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –∫–∞–∂–¥–æ–º—É –æ–±—ä–µ–∫—Ç—É  
‚úÖ **–î–ª—è –ñ–ö:** –∞–≥—Ä–µ–≥–∞—Ü–∏—è 22 endpoint'–æ–≤ (–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞, –æ—Ç–¥–µ–ª–∫–∞, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –≥–µ–æ–º–µ—Ç—Ä–∏—è, –±–∞–Ω–∫, –∏–ø–æ—Ç–µ–∫–∞, –∫–æ—Ä–ø—É—Å–∞, —Å–µ–∫—Ü–∏–∏, –ø–ª–∞–Ω—ã, –ø—Ä–æ–≥—Ä–µ—Å—Å —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)  
‚úÖ **–ú–µ–¥–∏–∞:** —Ñ–æ—Ç–æ, –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏, –≤–∏–¥–µ–æ, –¥–æ–∫—É–º–µ–Ω—Ç—ã  
‚úÖ **–ì–∏–±–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º, —Ç–∏–ø–∞–º, —Å –ª–∏–º–∏—Ç–∞–º–∏  
‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ  

### –ö–æ–º–∞–Ω–¥—ã:

```bash
# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
php artisan trendagent:parse --limit=10 --details --media

# –ü–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –°–ü–±
php artisan trendagent:parse --details --media

# –¢–æ–ª—å–∫–æ –ñ–ö —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
php artisan trendagent:parse --type=blocks --details
```

**–°–º. —Ç–∞–∫–∂–µ:** [FULL_PARSING_GUIDE.md](FULL_PARSING_GUIDE.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞.
